<!DOCTYPE html>
<html>
  <head>
    <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
  ></script>
    <link rel="stylesheet" type="text/css" href="./winner.css" />
    <link rel="icon" type="image/png" href="../favicon1.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="main-div">
      <img id="bg-image" width="100%" src="../asset/banner.jpg"/>
      <div class="content-div">
        <div style="height: 100px; ">
          <h1>Fortress Arena NFT Pre-sale white list result</h1>
        </div>
        <h3>Please enter your address and click the Verification button.</h3>
        <input id="input-address" type="text" class="input-address"/>
        <button id="btn_mint" style="margin-left: 10px" onclick="checkAddr()">
          Verification
        </button>
      </div>
      <div class="content-div">
        <div id="check-result"></div>
        </div>
      </div>
  
    </div>
    <script src="../js/utils.js" type=" text/javascript"></script>
    <script>
      const contractAddr = "0x6466514368A0c2E1396BC3164495c6f90cBA92F6";

      async function checkAddr() {
        // let _addr = document.getElementById("input-address").value;
        let _addr = $("#input-address").val();
        // console.log("_addr => ", _addr);
        let result_str = "";
        if(_addr.trim().length  >0){
          let mResult = await checkWhiteList(
          contractAddr,
          _addr.trim()
        );
          // console.log("mResult => ", mResult);
        if (mResult.result == null) {
          result_str = '<p class="content_result">'+_addr + '<br> is not registered for any Pre-sale rounds<br><br><span style="color:black;">Public sale start on 5:00 PM January 6th, 2022 (UTC)</span> </p>';
        } else {
          switch (mResult.result.toString()) {
            case "1":
              result_str = '<p class="content_result">' + _addr + '<br> is registered for Pre-sale Round 1<br><br><span style="color:black;">Pre-sale Round 1 start on 1:00 PM January 6th, 2022 (UTC)</span> </p>';

              break;
            case "2":
              result_str = '<p class="content_result">'+ _addr + '<br> is registered for Pre-sale Round 2<br><br><span style="color:black;">Pre-sale Round 2 start on 3:00 PM January 6th, 2022 (UTC)</span> </p>';
              break;
          }
        }
        }else{
          result_str = '<p class="content_result">Please enter your address</p>';
        }

        // console.log("result_str =>", result_str);
        $("#check-result").html(result_str);
      }
    </script>
  </body>
</html>
